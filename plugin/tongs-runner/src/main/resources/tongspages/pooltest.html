<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tongs Execution</title>
        <link href="https://fonts.googleapis.com/css?family=Roboto:regular,medium,thin,italic,mediumitalic,bold" rel="stylesheet">
        <link href="../../static/bootstrap.min.css" rel="stylesheet">
        <link href="../../static/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="../../static/spoon.css" rel="stylesheet">
        <link href="../../static/tongs.css" rel="stylesheet">
        <script src="../../static/jquery.min.js"></script>
        <script src="../../static/bootstrap.min.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="hero-unit {{status-lowerCase}}">
                <h1>{{testCase.testMethodReadable}}</h1>
                <p>{{testCase.testClassSimpleName}} - Took {{timeTaken}}s on {{device.serial}} ({{device.modelName-despaced_}})</p>
                <p>
                    <a href="../{{pool.name}}.html">Other tests for this pool</a>
                    {{#data}}{{#linkedFilePath}}
                    - <a href="{{linkedFilePath-unixPath}}">{{title}}</a>
                    {{/linkedFilePath}}{{/data}}
                </p>
            </div>
            {{#data}}
            {{^linkedFilePath}}
            <div>
                <a name="{{title-despaced_}}"><h1>{{title}}</h1></a>
                {{#videoPath-unixPath}}
                <video class="diagnostic {{status-lowerCase}}" width="35%" height="35%" controls src="../../../screenrecord/{{.}}" type="video/mp4">
                    Is video supported in this browser?
                </video>
                {{/videoPath-unixPath}}
                {{#imagePath-unixPath}}
                <img class="diagnostic {{status-lowerCase}}" width="35%" height="35%" src="../../../animation/{{.}}"  />
                {{/imagePath-unixPath}}
                {{#table}}
                    {{#title-equals.Logcat}}
                        <form>
                            <input type="text" id="filter" class="regex" placeholder="Search for regular expression"/>
                            <input type="button" value="Hide" onclick="filterTable('none')">
                            <input type="button" value="Show" onclick="filterTable('')">
                        </form>
                        <div>
                            <table class="table logcat">
                                <tr>{{#headers}}{{#title-equals.pid}}<th>Process</th>{{/title-equals.pid}}{{/headers}}
                                    {{#headers}}{{#title-equals.tag}}<th>Tag</th>{{/title-equals.tag}}{{/headers}}
                                    {{#headers}}{{#title-equals.logLevel}}<th>Level</th>{{/title-equals.logLevel}}{{/headers}}
                                    {{#headers}}{{#title-equals.time}}<th>Time</th>{{/title-equals.time}}{{/headers}}
                                    {{#headers}}{{#title-equals.message}}<th class="message">Message</th>{{/title-equals.message}}{{/headers}}
                                </tr>
                                {{#rows}}
                                <tr class="line {{logLevel}}">
                                    {{#cells}}{{#header.title-equals.pid}}<td>{{text}}</td>{{/header.title-equals.pid}}{{/cells}}
                                    {{#cells}}{{#header.title-equals.tag}}<td>{{text}}</td>{{/header.title-equals.tag}}{{/cells}}
                                    {{#cells}}{{#header.title-equals.logLevel}}<td>{{text}}</td>{{/header.title-equals.logLevel}}{{/cells}}
                                    {{#cells}}{{#header.title-equals.time}}<td style="white-space:nowrap;">{{text}}</td>{{/header.title-equals.time}}{{/cells}}
                                    {{#cells}}{{#header.title-equals.message}}<td>{{text}}</td>{{/header.title-equals.message}}{{/cells}}
                                </tr>
                                {{/rows}}
                            </table>
                        </div>
                    {{/title-equals.Logcat}}
                    {{^title-equals.Logcat}}
                        <table class="table">
                            <tr>{{#headers}}<th>{{.}}</th>{{/headers}}</tr>
                            {{#rows}}
                            <tr class="line {{logLevel}}">{{#cells}}<td>{{.}}</td>{{/cells}}</tr>
                            {{/rows}}
                        </table>
                    {{/title-equals.Logcat}}
                {{/table}}
            </div>
            {{/linkedFilePath}}
            {{/data}}
            <a name="Stacktrace"><h1>Stacktrace</h1></a>
            <pre class="test {{status-lowerCase}}">{{#stackTrace}}
{{.}}
{{/stackTrace}}</pre>
        </div>

        <script type="text/javascript">
            $('.test a').popover({
                placement: 'top',
                trigger: 'hover'
            });
        </script>
        <script language="javascript">
                function filterTable(mode) {
                   rows=document.getElementsByClassName('logcat')[0].rows;
                   regex=document.getElementById('filter').value;
                   for (i=1; i<rows.length; ++i) {
                     if (rows[i].textContent.match(regex)) {
                       rows[i].style.display=mode;
                     }
                   }
                }
            </script>
    </body>
</html>
